---
import Layout from '../layouts/Layout.astro';
import ServiceCard from '../components/ServiceCard.astro';
import SectionHeader from '../components/SectionHeader.astro';
import ProjectCard from '../components/ProjectCard.astro';
import { projects } from '../data/projects';

const latestProjects = projects
  .sort((a, b) => {
    if (a.endTime === undefined && b.endTime !== undefined) {
      return -1;
    }

    if (a.endTime !== undefined && b.endTime === undefined) {
      return 1;
    }

    return b.startTime.getTime() - a.startTime.getTime();
  })
  .slice(0, 2);
---

<Layout title="Brainflight">
  <main>
    <section
      id="hero"
      class="flex flex-col items-center justify-center bg-black py-20 max-lg:h-screen md:gap-8 lg:flex-row"
    >
      <img src="/brainflight_logo_500.jpg" alt="Brainflight logo" class="max-w-xs" />
      <hgroup class="max-w-md px-6 text-center md:p-0 lg:text-left">
        <h1 class="mb-5 text-6xl font-bold text-white md:text-7xl">Brainflight</h1>
        <p class="text-2xl text-white">Software development services from the world of tomorrow</p>
      </hgroup>
    </section>
    <div class="container mx-auto max-w-6xl px-5 text-slate-700 md:px-7">
      <section id="headline" class="py-12">
        <p class="text-4xl text-slate-700">
          <span class="font-semibold text-teal-700">Brainflight</span> is a one-man software
          development consultancy specializing in cloud and data
        </p>
      </section>
      <section id="services" class="py-12">
        <SectionHeader
          subheading="Services"
          title="Wherever you are in your journey, I can help you"
        />
        <ul class="grid grid-cols-1 gap-x-14 gap-y-16 md:grid-cols-3">
          <ServiceCard
            iconClass="las la-map-marked"
            title="Strategy"
            body="Not sure where to start with your data initiatives? I can help you identify good areas for using your data and form a roadmap to take things forward."
          />
          <ServiceCard
            iconClass="las la-project-diagram"
            title="Architecture"
            body="I have built data platforms in Azure and AWS, both from ground up and improving existing architecture , in multiple industries with different demands."
          />
          <ServiceCard
            iconClass="las la-file-code"
            title="Development"
            body="I have 7+ years of successful deliveries in data engineering, full stack web development, and machine learning engineering."
          />
        </ul>
      </section>
      <section id="projects" class="py-12">
        <SectionHeader
          subheading="Projects"
          title="Successful deliveries in multiple technologies and industries"
        />
        <h3 class="text-2xl text-slate-700">Latest projects</h3>
        <ul class="grid grid-cols-1 gap-8 lg:grid-cols-2">
          {latestProjects.map((project) => <ProjectCard project={project} />)}
        </ul>
      </section>
    </div>
  </main>
</Layout>
